{% schema %}
{
  "name": "Pepperfry Split Hero",
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "Slider Image (Left)",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image (Desktop)" },
        { "type": "image_picker", "id": "mobile_image", "label": "Image (Mobile)" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    },
    {
      "type": "banner",
      "name": "Side Banner (Right)",
      "limit": 1,
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [{ "name": "Pepperfry Split Hero" }]
}
{% endschema %}

<div class="pf-hero-container">
  <div class="pf-hero-grid">
    <!-- LEFT: Slider -->
    <div class="pf-slider">
      <div class="pf-slider-track">
        {% for block in section.blocks %}
          {% if block.type == 'slide' %}
            <a href="{{ block.settings.link }}" class="pf-slide">
              <picture>
                <source media="(max-width: 767px)" srcset="{{ block.settings.mobile_image | image_url: width: 800 }}">
                <img src="{{ block.settings.image | image_url: width: 1200 }}" alt="Hero" class="pf-img">
              </picture>
            </a>
          {% endif %}
        {% endfor %}
      </div>
      <!-- Simple Dots -->
      <div class="pf-dots"></div>
    </div>

    <!-- RIGHT: Static Banner -->
    <div class="pf-banner">
      {% for block in section.blocks %}
        {% if block.type == 'banner' %}
          <a href="{{ block.settings.link }}" class="pf-banner-link">
            <img src="{{ block.settings.image | image_url: width: 600 }}" alt="Promo" class="pf-img">
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<style>
.pf-hero-container { padding: 10px; max-width: 1600px; margin: 0 auto; }
.pf-hero-grid { display: flex; flex-direction: column; gap: 10px; }
.pf-img { width: 100%; height: 100%; object-fit: cover; display: block; }

/* Slider Logic */
.pf-slider { position: relative; overflow: hidden; border-radius: 0; }
.pf-slider-track { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; scrollbar-width: none; }
.pf-slide { min-width: 100%; scroll-snap-align: start; }

/* Desktop Grid Layout (The Pepperfry Look) */
@media (min-width: 992px) {
  .pf-hero-container { padding: 0; } /* Full width edge to edge or constrained */
  .pf-hero-grid {
    display: grid;
    grid-template-columns: 2fr 1fr; /* 66% Left, 33% Right */
    gap: 2px; /* Very tight gap like screenshot */
    height: 500px;
  }
  .pf-slider, .pf-banner { height: 100%; }
}
</style>

<script>
// Auto scroll slider
document.addEventListener('DOMContentLoaded', () => {
  const track = document.querySelector('.pf-slider-track');
  if(!track) return;
  let scroll = 0;
  setInterval(() => {
    scroll += track.offsetWidth;
    if(scroll >= track.scrollWidth) scroll = 0;
    track.scrollTo({left: scroll, behavior: 'smooth'});
  }, 4000);
});
</script>