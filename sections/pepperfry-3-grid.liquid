{% schema %}
{
  "name": "Pepperfry 3 Grid",
  "max_blocks": 3,
  "blocks": [
    {
      "type": "banner",
      "name": "Banner",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "title", "label": "Title", "default": "Title Here" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [{ "name": "Pepperfry 3 Grid" }]
}
{% endschema %}

<div class="pf-3grid-container">
  {% for block in section.blocks %}
    <a href="{{ block.settings.link }}" class="pf-3grid-item">
      <div class="pf-3grid-img-wrap">
        <img src="{{ block.settings.image | image_url: width: 600 }}" alt="{{ block.settings.title }}" loading="lazy">
        <div class="pf-3grid-overlay">
          <h3>{{ block.settings.title }}</h3>
          <span>Shop Now &rarr;</span>
        </div>
      </div>
    </a>
  {% endfor %}
</div>

<style>
.pf-3grid-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 15px;
  padding: 0 15px 30px;
  max-width: 1600px;
  margin: 0 auto;
}
.pf-3grid-img-wrap {
  position: relative;
  overflow: hidden;
  /* Pepperfry banners are wide rectangles */
  aspect-ratio: 16/9; 
}
.pf-3grid-img-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}
.pf-3grid-item:hover img {
  transform: scale(1.05);
}
.pf-3grid-overlay {
  position: absolute;
  top: 20px;
  left: 20px;
  color: #333; /* Dark text usually on light backgrounds */
  background: rgba(255,255,255,0.7); /* Subtle backing for readability */
  padding: 10px;
  border-radius: 4px;
}
.pf-3grid-overlay h3 { margin: 0 0 5px; font-weight: 700; font-size: 16px; }

@media(min-width: 768px) {
  .pf-3grid-container {
    grid-template-columns: repeat(3, 1fr);
    aspect-ratio: auto;
  }
}
</style>