{% schema %}
{
  "name": "404 Page",
  "tag": "section",
  "class": "section-404",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Page Not Found"
    },
    {
      "type": "text",
      "id": "subtext",
      "label": "Subtext",
      "default": "The page you are looking for might have been moved, renamed, or might never have existed."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Back to Home"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link",
      "default": "/"
    }
  ],
  "presets": [
    {
      "name": "404 Main"
    }
  ]
}
{% endschema %}

<div class="crimson-404-container section-padding">
  <div class="container text-center">
    <!-- Removed large 404 error code to be less alarming -->
    <div class="mb-6">
      <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#D4AF37" stroke-width="1">
        <circle cx="11" cy="11" r="8"/>
        <line x1="21" y1="21" x2="16.65" y2="16.65"/>
        <line x1="11" y1="8" x2="11" y2="8"/>
        <line x1="8" y1="11" x2="14" y2="11"/>
      </svg>
    </div>
    
    <h1 class="text-3xl font-heading font-bold mb-4">{{ section.settings.heading }}</h1>
    <p class="text-muted mb-8 max-w-md mx-auto">{{ section.settings.subtext }}</p>
    
    <div class="flex flex-col items-center gap-4">
       <a href="{{ section.settings.button_link }}" class="btn btn-primary">
         {{ section.settings.button_label }}
       </a>
       
       <div class="mt-8 max-w-sm w-full mx-auto">
         <p class="text-sm font-bold mb-2">Search for products:</p>
         <form action="{{ routes.search_url }}" method="get" role="search" class="search-form-404">
           <input
             type="search"
             name="q"
             value="{{ search.terms | escape }}"
             placeholder="Search..."
             class="input search-input-404"
           >
           <button type="submit" class="search-btn-404">
             <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
           </button>
         </form>
       </div>
    </div>
  </div>
</div>

<style>
.crimson-404-container {
  min-height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;
}
.search-form-404 {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
}
.search-input-404 {
  width: 100%;
  padding-right: 40px;
}
.search-btn-404 {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 40px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  color: #888;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}
.search-btn-404:hover {
  color: var(--color-royal-red);
}
</style>
