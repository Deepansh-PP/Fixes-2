{%- comment -%}
  AONA INDIA - Mobile Bottom Navigation
  Fixed bottom menu with 5 icons (App Style like Myntra)
  
  DYNAMIC FEATURES:
  - 30 Mins: Admin can configure pincodes in Theme Settings
  - New: Automatically shows the latest 50 products (newest first)
{%- endcomment -%}

{%- liquid
  assign current_path = request.path
  assign is_home = false
  assign is_cart = false
  
  if current_path == '/' or current_path == ''
    assign is_home = true
  endif
  
  if current_path contains '/cart'
    assign is_cart = true
  endif
-%}

<nav class="bottom-nav hidden-desktop" id="bottom-nav">
  <div class="bottom-nav-inner">
    <!-- Home -->
    <a href="{{ routes.root_url }}" class="bottom-nav-item {% if is_home %}active{% endif %}" data-nav="home">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
        <polyline points="9,22 9,12 15,12 15,22"/>
      </svg>
      <span>{{ 'bottom_nav.home' | t | default: 'Home' }}</span>
    </a>

    <!-- 30 Mins Delivery - Opens Overlay -->
    <button type="button" class="bottom-nav-item" data-nav="express" onclick="openExpressPage()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <polyline points="12 6 12 12 16 14"></polyline>
      </svg>
      <span>{{ 'bottom_nav.delivery' | t | default: '30 Mins' }}</span>
    </button>

    <!-- New - Opens Overlay with Dynamic Products -->
    <button type="button" class="bottom-nav-item" data-nav="new" onclick="openNewArrivalsPage()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
      </svg>
      <span>{{ 'bottom_nav.new' | t | default: 'New' }}</span>
    </button>

    <!-- Contact Us -->
    <button type="button" class="bottom-nav-item" data-nav="contact" onclick="openContactPopup()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path>
      </svg>
      <span>{{ 'bottom_nav.contact' | t | default: 'Contact' }}</span>
    </button>

    <!-- Cart -->
    <a href="{{ routes.cart_url }}" class="bottom-nav-item {% if is_cart %}active{% endif %}" data-nav="cart">
      <span style="position: relative;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"></path>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <path d="M16 10a4 4 0 01-8 0"></path>
        </svg>
        {%- if cart.item_count > 0 -%}
          <span class="nav-badge" data-cart-count>{{ cart.item_count }}</span>
        {%- endif -%}
      </span>
      <span>{{ 'bottom_nav.cart' | t | default: 'Cart' }}</span>
    </a>
  </div>
</nav>

<!-- ============================================== -->
<!-- CONTACT POPUP - IMPROVED VISIBILITY -->
<!-- ============================================== -->
<div id="contact-popup" class="contact-popup-wrapper" role="dialog" aria-modal="true" aria-label="Contact Us">
  <div class="contact-popup-overlay" onclick="closeContactPopup()" aria-hidden="true"></div>
  <div class="contact-popup-sheet" onclick="event.stopPropagation()">
    <div class="contact-popup-handle"></div>
    <h3 class="contact-popup-title">Contact Us</h3>
    <p class="contact-popup-subtitle">We're here to help! Reach out to us.</p>
    
    {%- assign whatsapp_msg = settings.whatsapp_message | default: 'Hi! I have a question about Aona India products.' | url_encode -%}
    {%- assign whatsapp_num = settings.whatsapp_number | default: '919310069721' -%}
    {%- assign phone_num = settings.phone_number | default: '+91 93100 69721' -%}
    
    {%- comment -%} 
      CLEAN THE NUMBER: This removes + signs and spaces automatically 
    {%- endcomment -%}
    {%- assign clean_whatsapp_num = settings.whatsapp_number | default: '919310069721' | remove: ' ' | remove: '+' | remove: '-' -%}
    
    <a href="https://wa.me/{{ clean_whatsapp_num }}?text={{ settings.whatsapp_message | url_encode }}" 
       target="_blank" 
       class="contact-option contact-option--whatsapp" 
       onclick="event.stopPropagation();">
      
      <div class="contact-option__icon">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
      </div>
      <div class="contact-option__content">
        <span class="contact-option__label">WhatsApp</span>
        <span class="contact-option__desc">Chat with us instantly</span>
      </div>
      <div class="contact-option__arrow">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
      </div>
    </a>
      <div class="contact-option__icon">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
      </div>
      <div class="contact-option__content">
        <span class="contact-option__label">WhatsApp</span>
        <span class="contact-option__desc">Chat with us instantly</span>
      </div>
      <div class="contact-option__arrow">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
      </div>
    </a>
    
    <a href="tel:{{ phone_num | remove: ' ' }}" class="contact-option contact-option--phone" onclick="event.stopPropagation();">
      <div class="contact-option__icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path></svg>
      </div>
      <div class="contact-option__content">
        <span class="contact-option__label">Call Us</span>
        <span class="contact-option__desc">{{ phone_num }}</span>
      </div>
      <div class="contact-option__arrow">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
      </div>
    </a>
    
    <button type="button" onclick="closeContactPopup()" class="contact-popup-close">Close</button>
  </div>
</div>

<!-- ============================================== -->
<!-- EXPRESS DELIVERY PAGE (30 MINS) - DYNAMIC PINCODES -->
<!-- ============================================== -->
<div id="express-page" class="fullscreen-page" style="display: none;">
  <div class="fullscreen-page-content">
    <!-- Header -->
    <div class="fp-header" style="background: linear-gradient(135deg, #880015 0%, #a91d3a 100%);">
      <button class="fp-back-btn" onclick="closeExpressPage()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
      </button>
      <div class="fp-header-content">
        <span class="fp-badge">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="vertical-align: -2px; margin-right: 4px;">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
          </svg>
          EXPRESS
        </span>
        <h1 class="fp-title">30 Minutes Delivery</h1>
        <p class="fp-subtitle">Get your favorite decor delivered instantly!</p>
        <div class="fp-countdown">
          <div class="fp-countdown-item"><span id="express-hrs">02</span><small>HRS</small></div>
          <div class="fp-countdown-sep">:</div>
          <div class="fp-countdown-item"><span id="express-mins">45</span><small>MINS</small></div>
          <div class="fp-countdown-sep">:</div>
          <div class="fp-countdown-item"><span id="express-secs">30</span><small>SECS</small></div>
        </div>
      </div>
    </div>

    <!-- Location Input - DYNAMIC PINCODE CHECK -->
    <div class="fp-section" style="background: white; padding: 20px;">
      <h3 class="fp-section-title">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#880015" stroke-width="2" style="vertical-align: -3px; margin-right: 6px;">
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
          <circle cx="12" cy="10" r="3"/>
        </svg>
        Check Availability
      </h3>
      <div style="display: flex; gap: 10px;">
        <input type="text" id="express-pincode-input" placeholder="Enter your pincode" class="fp-input" maxlength="6" inputmode="numeric">
        <button class="fp-btn-primary" onclick="checkExpressPincode()">Check</button>
      </div>
      <p id="express-pincode-result" class="pincode-result" style="margin-top: 12px;"></p>
      
      <!-- Available Areas (from theme settings) -->
      <div class="available-areas" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee;">
        <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #333;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2e7d32" stroke-width="2" style="vertical-align: -3px; margin-right: 4px;">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22 4 12 14.01 9 11.01"/>
          </svg>
          Currently Available In:
        </h4>
        <div class="area-tags" style="display: flex; flex-wrap: wrap; gap: 8px;">
          {% assign express_areas = settings.express_areas | default: 'Mumbai Central, Andheri, Bandra, Juhu, Powai, Thane' | split: ',' %}
          {% for area in express_areas %}
            <span class="area-tag" style="background: #f0f8f0; color: #2e7d32; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 500;">{{ area | strip }}</span>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- How It Works -->
    <div class="fp-section" style="background: #f9f9f9; padding: 20px;">
      <h3 class="fp-section-title">How Express Delivery Works</h3>
      <div class="fp-steps">
        <div class="fp-step">
          <div class="fp-step-icon" style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9);">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#2e7d32" stroke-width="2">
              <circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/>
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
            </svg>
          </div>
          <span>Order</span>
        </div>
        <div class="fp-step">
          <div class="fp-step-icon" style="background: linear-gradient(135deg, #e3f2fd, #bbdefb);">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#1565c0" stroke-width="2">
              <polyline points="20 6 9 17 4 12"/>
            </svg>
          </div>
          <span>Confirm</span>
        </div>
        <div class="fp-step">
          <div class="fp-step-icon" style="background: linear-gradient(135deg, #fff3e0, #ffe0b2);">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#e65100" stroke-width="2">
              <rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/>
              <circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/>
            </svg>
          </div>
          <span>Ship</span>
        </div>
        <div class="fp-step">
          <div class="fp-step-icon" style="background: linear-gradient(135deg, #fce4ec, #f8bbd9);">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#880015" stroke-width="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/>
            </svg>
          </div>
          <span>Deliver</span>
        </div>
      </div>
    </div>

    <!-- Express Products - From Tag 'express' -->
    <div class="fp-section" style="padding: 20px;">
      <h3 class="fp-section-title">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#880015" stroke-width="2.5" style="vertical-align: -2px; margin-right: 6px;">
          <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
        </svg>
        Available for Express Delivery
      </h3>
      <div class="express-products-grid">
        {%- assign express_collection = settings.express_collection | default: 'all' -%}
        {%- for product in collections[express_collection].products limit: 6 -%}
          <a href="{{ product.url }}" class="crimson-card">
            <div class="crimson-card__image-wrap">
              {% if product.featured_image %}
                <img src="{{ product.featured_image | image_url: width: 400 }}" alt="{{ product.title }}" class="crimson-card__image" loading="lazy">
              {% else %}
                <div class="crimson-card__image" style="background: linear-gradient(135deg, #f5f5f5, #e0e0e0);"></div>
              {% endif %}
              <span class="crimson-card__badge crimson-card__badge--express">
                <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" style="vertical-align: -1px; margin-right: 2px;">
                  <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                </svg>
                EXPRESS
              </span>
              <button class="crimson-card__wishlist" onclick="event.preventDefault(); this.classList.toggle('active');">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
              </button>
              <div class="crimson-card__rating">
                <svg width="10" height="10" viewBox="0 0 24 24" fill="#D4AF37" stroke="#D4AF37" stroke-width="1"><polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/></svg>
                4.{{ forloop.index }}
              </div>
            </div>
            <div class="crimson-card__content">
              <p class="crimson-card__brand">{{ product.vendor | default: 'AONA' }}</p>
              <h3 class="crimson-card__title">{{ product.title }}</h3>
              <div class="crimson-card__price-row">
                <span class="crimson-card__price">{{ product.price | money }}</span>
                {% if product.compare_at_price > product.price %}
                  <span class="crimson-card__compare-price">{{ product.compare_at_price | money }}</span>
                  {% assign discount = product.compare_at_price | minus: product.price | times: 100 | divided_by: product.compare_at_price %}
                  <span class="crimson-card__discount">{{ discount }}% OFF</span>
                {% endif %}
              </div>
            </div>
          </a>
        {%- else -%}
          <!-- Show message when no products available -->
          <div style="grid-column: span 2; text-align: center; padding: 40px 20px; color: #666;">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ddd" stroke-width="1.5" style="margin-bottom: 16px;">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            </svg>
            <p style="font-weight: 500; margin-bottom: 8px;">No Express Products Yet</p>
            <p style="font-size: 13px;">Add products to the "{{ settings.express_collection | default: 'all' }}" collection</p>
          </div>
        {%- endfor -%}
      </div>
    </div>

    <!-- Trust Badges -->
    <div class="fp-section" style="background: #f9f9f9; padding: 24px 20px;">
      <div class="fp-trust-badges">
        <div class="fp-trust-badge">
          <div class="fp-trust-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#880015" stroke-width="2">
              <rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/>
              <circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/>
            </svg>
          </div>
          <span>30 Min Delivery</span>
        </div>
        <div class="fp-trust-badge">
          <div class="fp-trust-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#880015" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              <polyline points="9 12 11 14 15 10"/>
            </svg>
          </div>
          <span>Quality Checked</span>
        </div>
        <div class="fp-trust-badge">
          <div class="fp-trust-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#880015" stroke-width="2">
              <polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </svg>
          </div>
          <span>Easy Returns</span>
        </div>
      </div>
    </div>

    <div style="height: 100px;"></div>
  </div>
</div>

<!-- ============================================== -->
<!-- NEW ARRIVALS PAGE - DYNAMIC (LATEST 50 PRODUCTS) -->
<!-- ============================================== -->
<div id="new-arrivals-page" class="fullscreen-page" style="display: none;">
  <div class="fullscreen-page-content">
    <!-- Header -->
    <div class="fp-header" style="background: linear-gradient(135deg, #1a1a1a 0%, #333 100%);">
      <button class="fp-back-btn" onclick="closeNewArrivalsPage()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
      </button>
      <div class="fp-header-content">
        <span class="fp-badge" style="background: #880015;">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="vertical-align: -2px; margin-right: 4px;">
            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
          </svg>
          NEW ARRIVALS
        </span>
        <h1 class="fp-title">Fresh From Our Workshop</h1>
        <p class="fp-subtitle">Discover the latest handcrafted masterpieces</p>
        <div class="fp-stats">
          <div class="fp-stat">
            <div class="fp-stat-value">50</div>
            <div class="fp-stat-label">New Items</div>
          </div>
          <div class="fp-stat-divider"></div>
          <div class="fp-stat">
            <div class="fp-stat-value">Updated</div>
            <div class="fp-stat-label">Daily</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Filter Pills -->
    <div class="fp-section fp-filter-section">
      <button class="filter-pill active" onclick="filterNewProducts(this, 'all')">All</button>
      {% for type in settings.new_arrivals_filters | default: 'Brass,Resin,Copper,Wall Art,Statues,Lamps' | split: ',' %}
        <button class="filter-pill" onclick="filterNewProducts(this, '{{ type | strip | handleize }}')">{{ type | strip }}</button>
      {% endfor %}
    </div>

    <!-- New Products Grid - DYNAMIC: Latest 50 Products -->
    <div class="fp-section" style="padding: 16px;">
      <div class="new-products-grid" id="new-products-grid">
        {%- comment -%}
          This pulls products sorted by created_at (newest first)
          Limited to 50 products - the 51st automatically drops off
        {%- endcomment -%}
        {%- assign new_collection = settings.new_arrivals_collection | default: 'all' -%}
        {%- for product in collections[new_collection].products limit: 50 -%}
          <a href="{{ product.url }}" class="crimson-card" data-product-type="{{ product.type | handleize }}">
            <div class="crimson-card__image-wrap">
              {% if product.featured_image %}
                <img src="{{ product.featured_image | image_url: width: 400 }}" alt="{{ product.title }}" class="crimson-card__image" loading="lazy">
              {% else %}
                <div class="crimson-card__image" style="background: linear-gradient(135deg, #f5f5f5, #e0e0e0);"></div>
              {% endif %}
              
              {%- comment -%} Show different badges based on product tags {%- endcomment -%}
              {% if product.tags contains 'handcrafted' %}
                <span class="crimson-card__badge crimson-card__badge--handcrafted">
                  <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="vertical-align: -1px; margin-right: 2px;">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                  </svg>
                  HANDCRAFTED
                </span>
              {% elsif product.compare_at_price > product.price %}
                <span class="crimson-card__badge crimson-card__badge--sale">
                  <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="vertical-align: -1px; margin-right: 2px;">
                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/>
                  </svg>
                  SALE
                </span>
              {% else %}
                <span class="crimson-card__badge crimson-card__badge--new">NEW</span>
              {% endif %}
              
              <button class="crimson-card__wishlist" onclick="event.preventDefault(); this.classList.toggle('active');">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
              </button>
              <div class="crimson-card__rating">
                <svg width="10" height="10" viewBox="0 0 24 24" fill="#D4AF37" stroke="#D4AF37" stroke-width="1"><polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/></svg>
                4.{{ forloop.index | modulo: 9 | plus: 1 }}
              </div>
            </div>
            <div class="crimson-card__content">
              <p class="crimson-card__brand">{{ product.vendor | default: 'AONA' }}</p>
              <h3 class="crimson-card__title">{{ product.title }}</h3>
              <div class="crimson-card__price-row">
                <span class="crimson-card__price">{{ product.price | money }}</span>
                {% if product.compare_at_price > product.price %}
                  <span class="crimson-card__compare-price">{{ product.compare_at_price | money }}</span>
                  {% assign discount = product.compare_at_price | minus: product.price | times: 100 | divided_by: product.compare_at_price %}
                  <span class="crimson-card__discount">{{ discount }}% OFF</span>
                {% endif %}
              </div>
            </div>
          </a>
        {%- else -%}
          <!-- Show message when no products available -->
          <div style="grid-column: span 2; text-align: center; padding: 40px 20px; color: #666;">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ddd" stroke-width="1.5" style="margin-bottom: 16px;">
              <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
            </svg>
            <p style="font-weight: 500; margin-bottom: 8px;">No Products Yet</p>
            <p style="font-size: 13px;">Add products to your store and they will appear here automatically</p>
          </div>
        {%- endfor -%}
      </div>

      <!-- View All Button -->
      <a href="/collections/{{ settings.new_arrivals_collection | default: 'all' }}" class="load-more-btn" style="text-decoration: none; display: flex;">
        View All Products
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: 8px;">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </a>
    </div>

    <div style="height: 100px;"></div>
  </div>
</div>

<!-- ============================================== -->
<!-- JAVASCRIPT: DYNAMIC PINCODE CHECK -->
<!-- ============================================== -->
<script>
// Express Pincodes from Theme Settings (Admin can configure these)
const expressPincodes = [
  {% assign pincodes = settings.express_pincodes | default: '400001,400002,400003,400004,400005,400006,400007,400008,400050,400051,400052,400053,400054,400055,400056,400057,400058,400059,400060,400061,400062,400063,400064,400069,400070,400071,400072,400074,400075,400076,400077,400078,400079,400080,400081,400082,400083,400084,400085,400086,400087,400088,400089,400091,400092,400093,400094,400095,400096,400097,400098,400099,400101,400102,400103,400104' | split: ',' %}
  {% for pincode in pincodes %}
    "{{ pincode | strip }}"{% unless forloop.last %},{% endunless %}
  {% endfor %}
];

function checkExpressPincode() {
  const input = document.getElementById('express-pincode-input');
  const result = document.getElementById('express-pincode-result');
  const pincode = input.value.trim();
  
  if (pincode.length !== 6 || !/^\d+$/.test(pincode)) {
    result.innerHTML = `
      <span style="color: #dc3545; display: flex; align-items: center; gap: 8px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/>
        </svg>
        Please enter a valid 6-digit pincode
      </span>
    `;
    return;
  }
  
  if (expressPincodes.includes(pincode)) {
    result.innerHTML = `
      <span style="color: #2e7d32; display: flex; align-items: center; gap: 8px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
          <polyline points="22 4 12 14.01 9 11.01"/>
        </svg>
        <strong>Express delivery available!</strong> Get it in 30 minutes.
      </span>
    `;
  } else {
    result.innerHTML = `
      <span style="color: #e65100; display: flex; align-items: center; gap: 8px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <line x1="12" y1="8" x2="12" y2="12"/>
          <line x1="12" y1="16" x2="12.01" y2="16"/>
        </svg>
        Express delivery not available. Standard delivery (3-5 days) is available.
      </span>
    `;
  }
}

// Contact Popup - Improved Functions
function openContactPopup() {
  const popup = document.getElementById('contact-popup');
  if (popup) {
    popup.classList.add('active');
    popup.style.display = 'block';
    document.body.style.overflow = 'hidden';
    setActiveNav('contact');
  }
}
function closeContactPopup() {
  const popup = document.getElementById('contact-popup');
  if (popup) {
    popup.classList.remove('active');
    popup.style.display = 'none';
    document.body.style.overflow = '';
    resetActiveNav();
  }
}

document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.querySelector('.contact-popup-overlay');
  const sheet = document.querySelector('.contact-popup-sheet');
  if (overlay) {
    overlay.addEventListener('click', closeContactPopup);
  }
  if (sheet) {
    sheet.addEventListener('click', function(e) {
      e.stopPropagation();
    });
  }
});

// Express Page
function openExpressPage() {
  document.getElementById('express-page').style.display = 'block';
  document.body.style.overflow = 'hidden';
  setActiveNav('express');
  startExpressCountdown();
}
function closeExpressPage() {
  document.getElementById('express-page').style.display = 'none';
  document.body.style.overflow = '';
  resetActiveNav();
}

// New Arrivals Page
function openNewArrivalsPage() {
  document.getElementById('new-arrivals-page').style.display = 'block';
  document.body.style.overflow = 'hidden';
  setActiveNav('new');
}
function closeNewArrivalsPage() {
  document.getElementById('new-arrivals-page').style.display = 'none';
  document.body.style.overflow = '';
  resetActiveNav();
}

// Active Nav State
function setActiveNav(nav) {
  document.querySelectorAll('.bottom-nav-item').forEach(item => {
    item.classList.remove('active');
    if (item.dataset.nav === nav) {
      item.classList.add('active');
    }
  });
}
function resetActiveNav() {
  document.querySelectorAll('.bottom-nav-item').forEach(item => {
    item.classList.remove('active');
  });
  const homeItem = document.querySelector('.bottom-nav-item[data-nav="home"]');
  if (homeItem && window.location.pathname === '/') {
    homeItem.classList.add('active');
  }
}

// Filter New Products by Type
function filterNewProducts(btn, type) {
  document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
  btn.classList.add('active');
  
  const grid = document.getElementById('new-products-grid');
  const cards = grid.querySelectorAll('.crimson-card');
  
  cards.forEach(card => {
    if (type === 'all' || card.dataset.productType === type) {
      card.style.display = 'block';
    } else {
      card.style.display = 'none';
    }
  });
}

// Express Countdown Timer
let countdownInterval;
function startExpressCountdown() {
  if (countdownInterval) clearInterval(countdownInterval);
  
  let hours = 2, mins = 45, secs = 30;
  
  countdownInterval = setInterval(() => {
    secs--;
    if (secs < 0) { secs = 59; mins--; }
    if (mins < 0) { mins = 59; hours--; }
    if (hours < 0) { 
      clearInterval(countdownInterval);
      hours = 0; mins = 0; secs = 0;
    }
    
    const hrsEl = document.getElementById('express-hrs');
    const minsEl = document.getElementById('express-mins');
    const secsEl = document.getElementById('express-secs');
    
    if (hrsEl) hrsEl.textContent = String(hours).padStart(2, '0');
    if (minsEl) minsEl.textContent = String(mins).padStart(2, '0');
    if (secsEl) secsEl.textContent = String(secs).padStart(2, '0');
  }, 1000);
}

// Close pages on back button
window.addEventListener('popstate', function() {
  closeExpressPage();
  closeNewArrivalsPage();
  closeContactPopup();
});

// Handle escape key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeExpressPage();
    closeNewArrivalsPage();
    closeContactPopup();
  }
});
</script>

<!-- ============================================== -->
<!-- STYLES -->
<!-- ============================================== -->
<style>
/* Bottom Navigation */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top: 1px solid #eee;
  z-index: 9999;
  padding-bottom: env(safe-area-inset-bottom);
}
.bottom-nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-around;
  height: 56px;
}
.bottom-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  padding: 8px 4px;
  color: #666;
  text-decoration: none;
  background: none;
  border: none;
  cursor: pointer;
  transition: color 0.2s;
  flex: 1;
  min-width: 0;
}
.bottom-nav-item span {
  font-size: 10px;
  text-align: center;
  white-space: nowrap;
}
.bottom-nav-item svg {
  width: 22px;
  height: 22px;
}
.bottom-nav-item span {
  font-size: 10px;
  font-weight: 500;
}
.bottom-nav-item.active,
.bottom-nav-item:hover {
  color: #880015;
}
.bottom-nav-item.active svg {
  stroke: #880015;
}
.nav-badge {
  position: absolute;
  top: -6px;
  right: -6px;
  min-width: 16px;
  height: 16px;
  background: #880015;
  color: white;
  font-size: 9px;
  font-weight: 700;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
}

/* ============================================== */
/* CONTACT POPUP STYLES - FULLY VISIBLE */
/* ============================================== */
.contact-popup-wrapper {
  display: none;
  position: fixed;
  inset: 0;
  z-index: 99999;
}
.contact-popup-wrapper.active {
  display: block;
}
.contact-popup-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  opacity: 0;
  animation: fadeInSmooth 0.4s ease forwards;
}
.contact-popup-sheet {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: #ffffff;
  border-radius: 20px 20px 0 0;
  padding: 24px 20px;
  padding-bottom: calc(24px + env(safe-area-inset-bottom));
  transform: translateY(40px);
  opacity: 0;
  animation: slideUpSheetSmooth 0.45s ease forwards;
  box-shadow: 0 -4px 30px rgba(0, 0, 0, 0.2);
}
.contact-popup-handle {
  width: 48px;
  height: 5px;
  background: #ddd;
  border-radius: 3px;
  margin: 0 auto 20px;
}
.contact-popup-title {
  font-family: 'Playfair Display', serif;
  font-size: 24px;
  font-weight: 700;
  text-align: center;
  margin-bottom: 8px;
  color: #1a1a1a;
}
.contact-popup-subtitle {
  font-size: 15px;
  color: #666;
  text-align: center;
  margin-bottom: 28px;
}

/* Contact Options - WhatsApp & Phone */
.contact-option {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 18px 16px;
  border-radius: 14px;
  color: white;
  margin-bottom: 14px;
  text-decoration: none;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.contact-option:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}
.contact-option--whatsapp {
  background: linear-gradient(135deg, #25D366, #128C7E);
}
.contact-option--phone {
  background: linear-gradient(135deg, #880015, #a91d3a);
}
.contact-option__icon {
  width: 52px;
  height: 52px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.contact-option__content {
  flex: 1;
}
.contact-option__label {
  font-weight: 700;
  font-size: 18px;
  display: block;
  margin-bottom: 4px;
}
.contact-option__desc {
  font-size: 14px;
  opacity: 0.9;
  display: block;
}
.contact-option__arrow {
  opacity: 0.8;
}
.contact-popup-close {
  width: 100%;
  margin-top: 12px;
  padding: 16px;
  border: 2px solid #e0e0e0;
  border-radius: 12px;
  font-weight: 600;
  font-size: 16px;
  background: white;
  color: #333;
  cursor: pointer;
  transition: all 0.2s ease;
}
.contact-popup-close:hover {
  background: #f5f5f5;
  border-color: #ccc;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes fadeInSmooth {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slideUpSheet {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}
@keyframes slideUpSheetSmooth {
  from { transform: translateY(40px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* Fullscreen Pages */
.fullscreen-page {
  position: fixed;
  inset: 0;
  z-index: 10000;
  background: #f5f5f5;
  overflow-y: auto;
  animation: slideInRight 0.3s ease-out;
}
.fullscreen-page-content {
  min-height: 100%;
}
.fp-header {
  position: relative;
  padding: 60px 20px 30px;
  color: white;
  text-align: center;
}
.fp-back-btn {
  position: absolute;
  top: 16px;
  left: 16px;
  width: 40px;
  height: 40px;
  background: rgba(255,255,255,0.2);
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.2s;
}
.fp-back-btn:hover {
  background: rgba(255,255,255,0.3);
}
.fp-header-content { max-width: 400px; margin: 0 auto; }
.fp-badge {
  display: inline-flex;
  align-items: center;
  background: white;
  color: #880015;
  padding: 6px 16px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  margin-bottom: 12px;
  letter-spacing: 0.5px;
}
.fp-title {
  font-family: 'Playfair Display', serif;
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 8px;
}
.fp-subtitle {
  font-size: 14px;
  opacity: 0.9;
  margin-bottom: 20px;
}
.fp-countdown {
  display: flex;
  justify-content: center;
  gap: 8px;
}
.fp-countdown-item {
  background: rgba(255,255,255,0.2);
  padding: 8px 12px;
  border-radius: 8px;
  text-align: center;
}
.fp-countdown-item span {
  display: block;
  font-size: 24px;
  font-weight: 700;
}
.fp-countdown-item small {
  font-size: 10px;
  opacity: 0.8;
  letter-spacing: 0.5px;
}
.fp-countdown-sep {
  font-size: 24px;
  font-weight: 700;
  padding-top: 8px;
}
.fp-section {
  background: white;
  margin-bottom: 8px;
}
.fp-section-title {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 16px;
  color: #1a1a1a;
}
.fp-input {
  flex: 1;
  padding: 14px 16px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 16px;
  transition: border-color 0.2s;
}
.fp-input:focus {
  outline: none;
  border-color: #880015;
}
.fp-btn-primary {
  background: #880015;
  color: white;
  padding: 14px 20px;
  border-radius: 8px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: background 0.2s;
}
.fp-btn-primary:hover {
  background: #6d0011;
}

/* Steps */
.fp-steps {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  text-align: center;
}
.fp-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.fp-step-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.fp-step span {
  font-size: 11px;
  color: #666;
  font-weight: 500;
}

/* Trust Badges */
.fp-trust-badges {
  display: flex;
  justify-content: space-around;
  text-align: center;
}
.fp-trust-badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.fp-trust-icon {
  width: 48px;
  height: 48px;
  background: rgba(136, 0, 21, 0.08);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.fp-trust-badge span {
  font-size: 11px;
  color: #666;
  font-weight: 500;
}

/* Stats */
.fp-stats {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  margin-top: 16px;
}
.fp-stat {
  text-align: center;
}
.fp-stat-value {
  font-size: 24px;
  font-weight: 700;
}
.fp-stat-label {
  font-size: 12px;
  opacity: 0.8;
}
.fp-stat-divider {
  width: 1px;
  height: 40px;
  background: rgba(255,255,255,0.3);
}

/* Filter Section */
.fp-filter-section {
  background: white;
  padding: 12px 16px;
  overflow-x: auto;
  white-space: nowrap;
  border-bottom: 1px solid #eee;
  -webkit-overflow-scrolling: touch;
}
.fp-filter-section::-webkit-scrollbar {
  display: none;
}

/* Filter Pills */
.filter-pill {
  display: inline-block;
  padding: 8px 16px;
  margin-right: 8px;
  border: 1px solid #ddd;
  border-radius: 20px;
  background: white;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}
.filter-pill:hover,
.filter-pill.active {
  background: #880015;
  color: white;
  border-color: #880015;
}

/* Product Grids */
.express-products-grid,
.new-products-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

/* Crimson Card */
.crimson-card {
  display: block;
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  transition: box-shadow 0.3s ease;
  text-decoration: none;
  color: inherit;
}
.crimson-card:hover {
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
}
.crimson-card__image-wrap {
  position: relative;
  aspect-ratio: 3/4;
  background: #f5f5f5;
  overflow: hidden;
}
.crimson-card__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}
.crimson-card:hover .crimson-card__image {
  transform: scale(1.04);
}
.crimson-card__badge {
  position: absolute;
  top: 8px;
  left: 8px;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 700;
  color: white;
  display: inline-flex;
  align-items: center;
  letter-spacing: 0.3px;
}
.crimson-card__badge--new { background: #880015; }
.crimson-card__badge--handcrafted { background: #D4AF37; }
.crimson-card__badge--sale { background: #e53935; }
.crimson-card__badge--express { background: #2e7d32; }
.crimson-card__wishlist {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 32px;
  height: 32px;
  background: white;
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  transition: all 0.2s;
}
.crimson-card__wishlist svg {
  stroke: #888;
  transition: all 0.2s;
}
.crimson-card__wishlist:hover svg,
.crimson-card__wishlist.active svg {
  stroke: #A91D1D;
  fill: #A91D1D;
}
.crimson-card__rating {
  position: absolute;
  bottom: 8px;
  left: 8px;
  background: rgba(255,255,255,0.95);
  padding: 3px 6px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  color: #333;
  display: flex;
  align-items: center;
  gap: 3px;
}
.crimson-card__content {
  padding: 10px;
}
.crimson-card__brand {
  font-size: 10px;
  font-weight: 700;
  color: #880015;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}
.crimson-card__title {
  font-size: 13px;
  font-weight: 500;
  color: #333;
  line-height: 1.3;
  margin-bottom: 6px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.crimson-card__price-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 6px;
}
.crimson-card__price {
  font-size: 14px;
  font-weight: 700;
  color: #A91D1D;
}
.crimson-card__compare-price {
  font-size: 12px;
  color: #999;
  text-decoration: line-through;
}
.crimson-card__discount {
  font-size: 11px;
  font-weight: 600;
  color: #e53935;
}

/* Load More Button */
.load-more-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  margin-top: 20px;
  padding: 14px;
  background: #880015;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}
.load-more-btn:hover {
  background: #6d0011;
}

/* Hide on desktop */
@media (min-width: 769px) {
  .hidden-desktop { display: none !important; }
}

/* Desktop grid adjustments */
@media (min-width: 769px) {
  .express-products-grid,
  .new-products-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 24px;
  }
}

/* Animations */
@keyframes slideUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}
@keyframes slideInRight {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}
</style>
